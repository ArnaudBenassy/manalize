packages:
    php:
        enabled:    true
        required:   true
        default:    '7.0'
        constraint: '7.0'
    mysql:
        enabled:    true
        required:   false
        default:    '5.6'
        constraint: '5.6|5.7'
    postgresql:
        enabled:    false
        required:   false
        default:    '9.5'
        constraint: '9.4|9.5'
    mongodb:
        enabled:    false
        required:   false
        default:    '3.2'
        constraint: '3.0|3.2'
    elasticsearch:
        enabled:    false
        required:   false
        default:    '1.7'
        constraint: '1.5|1.6|1.7|2'
    nodejs:
        enabled:    false
        required:   false
        default:    '6'
        constraint: '0.10|0.12|4|5|6'
    redis:
        required:   false
        enabled:    false
    influxdb:
        required:   false
        enabled:    false

make_targets:
    install:
        - composer install --verbose
        - bin/console doctrine:database:create --if-not-exists
    setup:
        - if [ -d  "./var/cache" ]; then rm -rf ./var/cache && mkdir ./var/cache; fi;
        - if [ -d "./var/logs" ]; then rm -rf ./var/logs && mkdir ./var/logs; fi;
        - if [ -d "./var/sessions" ]; then rm -rf ./var/sessions && mkdir ./var/sessions; fi;
        - vagrant up --no-provision
        - vagrant provision
        - vagrant ssh -- "cd /srv/app && make install && make build"
